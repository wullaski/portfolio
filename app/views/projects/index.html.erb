<% (1..9).each.with_index do |project, project_index| %>
  <div class="project">
    <div class="project-meta">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h2 class="panel-title"><%= @projects.first.name %></h2>
        </div>
        <div class="panel-body">
          <p><%= @projects.first.date.to_s(:month_year) %></p>
          <p><strong>Role: </strong><%= @projects.first.role %></p>
          <p><strong>Tech: </strong><%= @projects.first.technology %></p>
          <p><%= @projects.first.description %></p>
          <p><%= link_to "Visit site", @projects.first.link, :target => "_blank" %></p>
        </div>
      </div>
    </div>
    <div class="project-gallery">
      <div id="carousel-<%= project_index %>" class="carousel slide" data-interval="false">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <% @projects.first.assets.each do |asset, index| %>
          <li data-target="#carousel-<%= project_index %>" data-slide-to="<%= index %>" <%= "class='active'" if index == 0 %>></li>
          <% end %>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
          <% @projects.first.assets.each.with_index do |asset, index| %>
            <div class="item <%= "active" if index == 0 %>">
              <%= image_tag asset.image.url(:medium) %>
            </div>
          <% end %>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-<%= project_index %>" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left"></span>
        </a>
        <a class="right carousel-control" href="#carousel-<%= project_index %>" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right"></span>
        </a>
      </div>
    </div>
  </div>
<% end %>